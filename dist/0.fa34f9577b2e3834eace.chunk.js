webpackJsonp([0],{W3dQ:function(n,l,u){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=u("WT6e"),e=function(){},o=u("7DMc"),i=u("7zrD"),s=u("ItHS"),r=function(){function n(n){this.http=n}return n.prototype.signup=function(n){return this.http.post("/auth/signup",n)},n.prototype.login=function(n){return this.http.post("/auth/login",n)},n.prototype.getUser=function(n){return this.http.get("/auth/getUser/"+n)},n}(),a=u("wPCT"),c=u("bfOx"),_=function(n,l,u,t){this.username=n,this.password=l,this.userID=u,this.token=t},g=function(){function n(n,l,u,t){this.appService=n,this.authService=l,this.notificationService=u,this.router=t}return n.prototype.onSubmit=function(){var n=this,l=new _(this.loginForm.value.username,this.loginForm.value.password);this.authService.login(l).subscribe(function(l){console.log(l),l.token&&localStorage.setItem("token",l.token),l.username&&localStorage.setItem("username",l.username),l.userId&&localStorage.setItem("userId",l.userId),n.router.navigateByUrl("/profile")},function(l){n.notificationService.error.emit(l)})},n.prototype.ngOnInit=function(){this.appService.title.next("Login"),this.loginForm=new o.g({username:new o.e(null,[o.o.required]),password:new o.e(null,[o.o.required])})},n}(),p=t._1({encapsulation:0,styles:[[""]],data:{}});function m(n){return t._20(0,[(n()(),t._3(0,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var e=!0,o=n.component;return"submit"===l&&(e=!1!==t._13(n,2).onSubmit(u)&&e),"reset"===l&&(e=!1!==t._13(n,2).onReset()&&e),"ngSubmit"===l&&(e=!1!==o.onSubmit()&&e),e},null,null)),t._2(1,16384,null,0,o.q,[],null,null),t._2(2,540672,null,0,o.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t._15(2048,null,o.b,null,[o.h]),t._2(4,16384,null,0,o.m,[o.b],null,null),(n()(),t._19(-1,null,["\n  "])),(n()(),t._3(6,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(8,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(n()(),t._19(-1,null,["Username"])),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(11,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["name","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var e=!0;return"input"===l&&(e=!1!==t._13(n,12)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t._13(n,12).onTouched()&&e),"compositionstart"===l&&(e=!1!==t._13(n,12)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t._13(n,12)._compositionEnd(u.target.value)&&e),e},null,null)),t._2(12,16384,null,0,o.c,[t.B,t.k,[2,o.a]],null,null),t._15(1024,null,o.j,function(n){return[n]},[o.c]),t._2(14,671744,null,0,o.f,[[3,o.b],[8,null],[8,null],[2,o.j]],{name:[0,"name"]},null),t._15(2048,null,o.k,null,[o.f]),t._2(16,16384,null,0,o.l,[o.k],null,null),(n()(),t._19(-1,null,["\n  "])),(n()(),t._19(-1,null,["\n  "])),(n()(),t._3(19,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(21,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(n()(),t._19(-1,null,["Password"])),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(24,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var e=!0;return"input"===l&&(e=!1!==t._13(n,25)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t._13(n,25).onTouched()&&e),"compositionstart"===l&&(e=!1!==t._13(n,25)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t._13(n,25)._compositionEnd(u.target.value)&&e),e},null,null)),t._2(25,16384,null,0,o.c,[t.B,t.k,[2,o.a]],null,null),t._15(1024,null,o.j,function(n){return[n]},[o.c]),t._2(27,671744,null,0,o.f,[[3,o.b],[8,null],[8,null],[2,o.j]],{name:[0,"name"]},null),t._15(2048,null,o.k,null,[o.f]),t._2(29,16384,null,0,o.l,[o.k],null,null),(n()(),t._19(-1,null,["\n  "])),(n()(),t._19(-1,null,["\n  "])),(n()(),t._3(32,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(n()(),t._19(-1,null,["Log in"])),(n()(),t._19(-1,null,["  \n"]))],function(n,l){n(l,2,0,l.component.loginForm),n(l,14,0,"username"),n(l,27,0,"password")},function(n,l){n(l,0,0,t._13(l,4).ngClassUntouched,t._13(l,4).ngClassTouched,t._13(l,4).ngClassPristine,t._13(l,4).ngClassDirty,t._13(l,4).ngClassValid,t._13(l,4).ngClassInvalid,t._13(l,4).ngClassPending),n(l,11,0,t._13(l,16).ngClassUntouched,t._13(l,16).ngClassTouched,t._13(l,16).ngClassPristine,t._13(l,16).ngClassDirty,t._13(l,16).ngClassValid,t._13(l,16).ngClassInvalid,t._13(l,16).ngClassPending),n(l,24,0,t._13(l,29).ngClassUntouched,t._13(l,29).ngClassTouched,t._13(l,29).ngClassPristine,t._13(l,29).ngClassDirty,t._13(l,29).ngClassValid,t._13(l,29).ngClassInvalid,t._13(l,29).ngClassPending)})}var d=t.Z("app-login",g,function(n){return t._20(0,[(n()(),t._3(0,0,null,null,1,"app-login",[],null,null,null,m,p)),t._2(1,114688,null,0,g,[i.a,r,a.a,c.k],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),f=function(){function n(n,l,u){this.appService=n,this.authService=l,this.notificationService=u}return n.prototype.onSubmit=function(){var n=this,l=new _(this.signupForm.value.username,this.signupForm.value.password);l.username||l.password?l.username?l.password||this.notificationService.notification.emit({name:"Password field is empty",message:"Please enter your password"}):this.notificationService.notification.emit({name:"Username field is empty",message:"Please enter username"}):this.notificationService.notification.emit({name:"Username and password fields are empty",message:"Please enter your username and password"}),l.username&&l.password&&this.authService.signup(l).subscribe(function(l){return n.notificationService.notification.emit(l)},function(l){return n.notificationService.error.emit(l)})},n.prototype.ngOnInit=function(){this.appService.title.next("Sign up"),this.signupForm=new o.g({username:new o.e(null),password:new o.e(null)})},n}(),h=t._1({encapsulation:0,styles:[[""]],data:{}});function v(n){return t._20(0,[(n()(),t._3(0,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,u){var e=!0,o=n.component;return"submit"===l&&(e=!1!==t._13(n,2).onSubmit(u)&&e),"reset"===l&&(e=!1!==t._13(n,2).onReset()&&e),"ngSubmit"===l&&(e=!1!==o.onSubmit()&&e),e},null,null)),t._2(1,16384,null,0,o.q,[],null,null),t._2(2,540672,null,0,o.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t._15(2048,null,o.b,null,[o.h]),t._2(4,16384,null,0,o.m,[o.b],null,null),(n()(),t._19(-1,null,["\n  "])),(n()(),t._3(6,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(8,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(n()(),t._19(-1,null,["Username"])),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(11,0,null,null,5,"input",[["class","form-control"],["formControlName","username"],["name","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var e=!0;return"input"===l&&(e=!1!==t._13(n,12)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t._13(n,12).onTouched()&&e),"compositionstart"===l&&(e=!1!==t._13(n,12)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t._13(n,12)._compositionEnd(u.target.value)&&e),e},null,null)),t._2(12,16384,null,0,o.c,[t.B,t.k,[2,o.a]],null,null),t._15(1024,null,o.j,function(n){return[n]},[o.c]),t._2(14,671744,null,0,o.f,[[3,o.b],[8,null],[8,null],[2,o.j]],{name:[0,"name"]},null),t._15(2048,null,o.k,null,[o.f]),t._2(16,16384,null,0,o.l,[o.k],null,null),(n()(),t._19(-1,null,["\n  "])),(n()(),t._19(-1,null,["\n  "])),(n()(),t._3(19,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(21,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(n()(),t._19(-1,null,["Password"])),(n()(),t._19(-1,null,["\n    "])),(n()(),t._3(24,0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var e=!0;return"input"===l&&(e=!1!==t._13(n,25)._handleInput(u.target.value)&&e),"blur"===l&&(e=!1!==t._13(n,25).onTouched()&&e),"compositionstart"===l&&(e=!1!==t._13(n,25)._compositionStart()&&e),"compositionend"===l&&(e=!1!==t._13(n,25)._compositionEnd(u.target.value)&&e),e},null,null)),t._2(25,16384,null,0,o.c,[t.B,t.k,[2,o.a]],null,null),t._15(1024,null,o.j,function(n){return[n]},[o.c]),t._2(27,671744,null,0,o.f,[[3,o.b],[8,null],[8,null],[2,o.j]],{name:[0,"name"]},null),t._15(2048,null,o.k,null,[o.f]),t._2(29,16384,null,0,o.l,[o.k],null,null),(n()(),t._19(-1,null,["\n  "])),(n()(),t._19(-1,null,["\n  "])),(n()(),t._3(32,0,null,null,1,"button",[["class","btn btn-success"],["type","submit"]],null,null,null,null,null)),(n()(),t._19(-1,null,["Submit"])),(n()(),t._19(-1,null,["\n"])),(n()(),t._19(-1,null,["\n"]))],function(n,l){n(l,2,0,l.component.signupForm),n(l,14,0,"username"),n(l,27,0,"password")},function(n,l){n(l,0,0,t._13(l,4).ngClassUntouched,t._13(l,4).ngClassTouched,t._13(l,4).ngClassPristine,t._13(l,4).ngClassDirty,t._13(l,4).ngClassValid,t._13(l,4).ngClassInvalid,t._13(l,4).ngClassPending),n(l,11,0,t._13(l,16).ngClassUntouched,t._13(l,16).ngClassTouched,t._13(l,16).ngClassPristine,t._13(l,16).ngClassDirty,t._13(l,16).ngClassValid,t._13(l,16).ngClassInvalid,t._13(l,16).ngClassPending),n(l,24,0,t._13(l,29).ngClassUntouched,t._13(l,29).ngClassTouched,t._13(l,29).ngClassPristine,t._13(l,29).ngClassDirty,t._13(l,29).ngClassValid,t._13(l,29).ngClassInvalid,t._13(l,29).ngClassPending)})}var b=t.Z("app-signup",f,function(n){return t._20(0,[(n()(),t._3(0,0,null,null,1,"app-signup",[],null,null,null,v,h)),t._2(1,114688,null,0,f,[i.a,r,a.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),S=function(){function n(n,l,u){this.appService=n,this.authService=l,this.router=u}return n.prototype.logout=function(){localStorage.clear(),this.router.navigateByUrl("/home")},n.prototype.getData=function(){this.authService.getUser(this.userId).subscribe(function(n){console.log(n)})},n.prototype.ngOnInit=function(){this.appService.title.next("Profile"),null!==localStorage.getItem("token")&&null!==localStorage.getItem("username")?(this.username=localStorage.getItem("username"),this.token=localStorage.getItem("token"),this.userId=localStorage.getItem("userId")):(console.log("You are not logged in, please log in"),this.router.navigateByUrl("/login"))},n}(),C=t._1({encapsulation:0,styles:[[""]],data:{}});function y(n){return t._20(0,[(n()(),t._3(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t._19(1,null,["",""])),(n()(),t._19(-1,null,["\n"])),(n()(),t._3(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t._19(4,null,["",""])),(n()(),t._19(-1,null,["\n\n"])),(n()(),t._3(6,0,null,null,1,"button",[["class","btn btn-primary btn-lg"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.getData()&&t),t},null,null)),(n()(),t._19(-1,null,["User data"])),(n()(),t._19(-1,null,["\n"])),(n()(),t._3(9,0,null,null,1,"button",[["class","btn btn-primary btn-lg"]],null,[[null,"click"]],function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.logout()&&t),t},null,null)),(n()(),t._19(-1,null,["Log out"]))],null,function(n,l){var u=l.component;n(l,1,0,u.userId),n(l,4,0,u.token)})}var w=t.Z("app-profile",S,function(n){return t._20(0,[(n()(),t._3(0,0,null,null,1,"app-profile",[],null,null,null,y,C)),t._2(1,114688,null,0,S,[i.a,r,c.k],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),k=u("Xjw4"),I=function(){};u.d(l,"AuthModuleNgFactory",function(){return P});var P=t._0(e,[],function(n){return t._10([t._11(512,t.j,t.W,[[8,[d,b,w]],[3,t.j],t.v]),t._11(4608,k.k,k.j,[t.s,[2,k.o]]),t._11(4608,o.r,o.r,[]),t._11(4608,o.d,o.d,[]),t._11(4608,s.h,s.n,[k.c,t.z,s.l]),t._11(4608,s.o,s.o,[s.h,s.m]),t._11(5120,s.a,function(n){return[n]},[s.o]),t._11(4608,s.k,s.k,[]),t._11(6144,s.i,null,[s.k]),t._11(4608,s.g,s.g,[s.i]),t._11(6144,s.b,null,[s.g]),t._11(4608,s.f,s.j,[s.b,t.p]),t._11(4608,s.c,s.c,[s.f]),t._11(4608,r,r,[s.c]),t._11(512,k.b,k.b,[]),t._11(512,o.p,o.p,[]),t._11(512,o.i,o.i,[]),t._11(512,o.n,o.n,[]),t._11(512,s.e,s.e,[]),t._11(512,s.d,s.d,[]),t._11(512,c.n,c.n,[[2,c.s],[2,c.k]]),t._11(512,I,I,[]),t._11(512,e,e,[]),t._11(256,s.l,"XSRF-TOKEN",[]),t._11(256,s.m,"X-XSRF-TOKEN",[]),t._11(1024,c.i,function(){return[[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:g},{path:"signup",component:f},{path:"profile",component:S}]]},[])])})}});